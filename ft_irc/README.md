- 개요

소켓 통신에 대해 이해하고, c/c++ 라이브러리를 통해 IRC 서버를 구현해보는 과제

---
- 과정

1. 서버 소켓을 설정하고 생성한다.
2. 서버에 접속했을 경우 맞는 소켓을 찾아가기 위해, bind를 통해 서버 소켓과 IP 주소 및 포트 번호를 묶어준다.
3. listen을 통해 서버 소켓과 통신을 시작한다.
4. poll이나 select, kqueue를 통해 서버 소켓의 상태를 감시하고 새로운 접속이나 메세지, 연결 끊김과 같은 상태의 변화를 체크한다.
5. 새로운 접속인 경우 accept를 통해 접속한 클라이언트와 소켓을 묶는다.
6. 연결이 끊긴 경우에는 소켓을 닫고 초기화한다.
7. 메세지인 경우 메세지를 파싱하고, 명령어에 따라 알맞은 동작을 하도록 구현한다.

---
- 어려웠던 점

1. 서버와 클라이언트를 특정해서 동작 구현을 진행했는데, IRC 문서상에는 해당 서버와 클라이언트를 특정한게 아니라 공통적인 format에 대해서만 나와있어서 실제 주고받는 통신 메세지를 보고 어떤 동작을 하겠구나를 유추하고 해당 동작을 구현하는 식으로 진행했다. 구현을 할 때마다 실제 명령어를 동작시켜보고 내용을 유추하는 과정을 거쳐야 했던 게 너무 번거로웠다.
2. IRC 공식 문서에서 제공하는 명령어들이 정말 너무 많았다. 그 전부를 구현할 필요는 없지만, 방장 기능을 포함한다는 전제하에 이것저것 구현하다보니 나중에는 처리해야하는 명령어들이 너무 많아져서 코드가 지저분해지는 느낌을 받았다.

---
- 배운 점

https://thinkable-son-6b5.notion.site/ft_irc-244ed51ddbfa4624a06ada26e2272bfe
